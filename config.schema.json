{
  "pluginAlias": "KostalInverter",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "Kostal Inverter",
        "description": "Name of the Kostal Inverter Platform"
      },
      "language": {
        "title": "Language",
        "type": "string",
        "enum": ["de", "en", "fr", "it", "zh"],
        "default": "de",
        "description": "Language for the user interface"
      },
      "kostal": {
        "title": "Kostal Inverter Connection",
        "type": "object",
        "properties": {
          "host": {
            "title": "IP Address",
            "type": "string",
            "format": "ipv4",
            "description": "IP address of your Kostal inverter",
            "required": true
          },
          "username": {
            "title": "Username",
            "type": "string",
            "default": "pvserver",
            "description": "Username for Kostal inverter (default: pvserver)"
          },
          "password": {
            "title": "Password",
            "type": "string",
            "format": "password",
            "default": "pvwr",
            "description": "Password for Kostal inverter (default: pvwr)"
          },
          "autoDetectModel": {
            "title": "Auto-detect Model",
            "type": "boolean",
            "default": true,
            "description": "Try to automatically detect the inverter model"
          },
          "model": {
            "title": "Inverter Model",
            "type": "string",
            "default": "Plenticore",
            "description": "Inverter model (if auto-detection fails)"
          }
        },
        "required": ["host"]
      },
      "pollingInterval": {
        "title": "Polling Interval",
        "type": "number",
        "default": 30,
        "minimum": 10,
        "maximum": 300,
        "description": "Data polling interval from Kostal inverter in seconds"
      },
      "childBridge": {
        "title": "Enable Child Bridge",
        "type": "boolean",
        "default": false,
        "description": "Run plugin as Child Bridge (recommended for stability)"
      },
      "childBridgePort": {
        "title": "Child Bridge Port",
        "type": "number",
        "default": 8581,
        "minimum": 1000,
        "maximum": 65535,
        "description": "Port for Child Bridge (only when Child Bridge enabled)"
      },
      "childBridgeUsername": {
        "title": "Child Bridge Username",
        "type": "string",
        "default": "0E:16:CA:9B:88:54",
        "description": "Username for Child Bridge (auto-generated)"
      },
      "childBridgePin": {
        "title": "Child Bridge PIN",
        "type": "string",
        "default": "542-50-232",
        "description": "PIN for Child Bridge (auto-generated)"
      },
      "dailyReports": {
        "title": "Daily Reports",
        "type": "object",
        "properties": {
          "enabled": {
            "title": "Enable Daily Reports",
            "type": "boolean",
            "default": false,
            "description": "Send daily solar generation reports"
          },
          "language": {
            "title": "Report Language",
            "type": "string",
            "enum": ["de", "en", "fr"],
            "default": "de",
            "description": "Language for daily reports"
          },
          "reportStyle": {
            "title": "Report Style",
            "type": "string",
            "enum": ["motion", "doorbell", "switch"],
            "default": "motion",
            "description": "How reports are delivered in HomeKit"
          },
          "reportTime": {
            "title": "Report Time",
            "type": "string",
            "enum": ["sunset", "sunset+30", "sunset+60", "20:00", "21:00", "22:00"],
            "default": "sunset+30",
            "description": "When to send daily reports"
          },
          "includeComparisons": {
            "title": "Include Comparisons",
            "type": "boolean",
            "default": true,
            "description": "Include comparisons with previous days"
          }
        }
      }
    },
    "required": ["kostal"]
  }
}