{
  "pluginAlias": "KostalInverter",
  "pluginType": "platform",
  "singular": true,
  "schema": {
    "type": "object",
    "properties": {
      "name": {
        "title": "Platform Name",
        "type": "string",
        "default": "Kostal Solar Energy Generator",
        "description": "Name der Kostal Solar Energy Generator Platform"
      },
      "kostal": {
        "title": "Kostal Wechselrichter Verbindung",
        "type": "object",
        "properties": {
          "host": {
            "title": "IP-Adresse",
            "type": "string",
            "format": "ipv4",
            "description": "IP-Adresse deines Kostal-Wechselrichters (z.B. 192.168.178.71)",
            "required": true,
            "placeholder": "192.168.178.71"
          },
          "username": {
            "title": "Benutzername",
            "type": "string",
            "default": "pvserver",
            "description": "Benutzername für Kostal-Wechselrichter (Standard: pvserver)",
            "placeholder": "pvserver"
          },
          "password": {
            "title": "Passwort",
            "type": "string",
            "format": "password",
            "default": "pvwr",
            "description": "Passwort für Kostal-Wechselrichter (Standard: pvwr)",
            "placeholder": "Dein Kostal-Passwort"
          }
        },
        "required": ["host"]
      },
      "inverter": {
        "title": "Wechselrichter Konfiguration",
        "type": "object",
        "properties": {
          "name": {
            "title": "Generator Name",
            "type": "string",
            "default": "Kostal Solar Generator",
            "description": "Name des Energieerzeugers in HomeKit"
          },
          "model": {
            "title": "Modell",
            "type": "string",
            "default": "Plenticore 10.0",
            "description": "Modell des Kostal-Wechselrichters"
          },
          "serialNumber": {
            "title": "Seriennummer",
            "type": "string",
            "default": "123456789",
            "description": "Seriennummer des Wechselrichters"
          },
          "maxPower": {
            "title": "Maximale Leistung (W)",
            "type": "number",
            "default": 10000,
            "minimum": 1000,
            "maximum": 50000,
            "description": "Maximale Leistung des Wechselrichters in Watt"
          },
          "maxEnergyPerDay": {
            "title": "Maximale Tagesenergie (kWh)",
            "type": "number",
            "default": 20,
            "minimum": 1,
            "maximum": 100,
            "description": "Maximale erwartete Tagesenergie in kWh"
          }
        },
        "required": ["name"]
      },
      "pollingInterval": {
        "title": "Abfrageintervall (Sekunden)",
        "type": "number",
        "default": 30,
        "minimum": 10,
        "maximum": 300,
        "description": "Intervall für Datenabfrage vom Kostal-Wechselrichter"
      },
      "dailyReports": {
        "title": "Tägliche Solar-Berichte",
        "type": "object",
        "properties": {
          "enabled": {
            "title": "Berichte aktivieren",
            "type": "boolean",
            "default": true,
            "description": "Tägliche Solar-Berichte mit Push-Benachrichtigungen aktivieren"
          },
          "time": {
            "title": "Berichtszeit",
            "type": "string",
            "default": "20:00",
            "pattern": "^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$",
            "description": "Uhrzeit für tägliche Berichte (HH:MM Format)"
          },
          "style": {
            "title": "Berichtsstil",
            "type": "string",
            "enum": ["motion", "notification"],
            "default": "motion",
            "description": "Art der Benachrichtigung (Motion Sensor oder direkte Benachrichtigung)"
          },
          "language": {
            "title": "Berichtssprache",
            "type": "string",
            "enum": ["de", "en", "fr", "it", "zh"],
            "default": "de",
            "description": "Sprache für die täglichen Berichte"
          }
        },
        "required": ["enabled", "time", "style", "language"]
      },
      "childBridge": {
        "title": "Child Bridge",
        "type": "boolean",
        "default": false,
        "description": "Plugin als Child Bridge ausführen (empfohlen für Stabilität und bessere Performance)"
      },
      "childBridgePort": {
        "title": "Child Bridge Port",
        "type": "number",
        "default": 8581,
        "minimum": 1000,
        "maximum": 65535,
        "description": "Port für Child Bridge (nur wenn Child Bridge aktiviert)"
      },
      "childBridgeUsername": {
        "title": "Child Bridge Username",
        "type": "string",
        "description": "Username für Child Bridge (wird automatisch generiert wenn leer)"
      },
      "childBridgePin": {
        "title": "Child Bridge PIN",
        "type": "string",
        "pattern": "^[0-9]{3}-[0-9]{2}-[0-9]{3}$",
        "description": "PIN für Child Bridge (Format: 123-45-678)"
      }
    },
    "required": ["kostal", "inverter"]
  }
}
